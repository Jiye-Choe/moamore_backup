<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="team">
	<select id="countOpenAll" resultType="int">
		SELECT count(*) FROM TEAM WHERE STATUS=2 AND ISOPEN=1
	</select>
	
	<select id="selectOpenAll" parameterType="hashmap" resultType="teamDTO">
		<![CDATA[
		select * FROM (SELECT rownum r,team_no,subject,amount,start_day,end_day,people from team where status=2 and ISOPEN=1 order by team_no desc) where r >= #{start} and r <= #{end} order by r asc
		]]>
	</select>
	
	<insert id="insertTeamArticle" parameterType="teamDTO">
		insert into team values(team_seq.nextVal, #{subject}, #{content}, #{amount}, #{start_day}, #{end_day}, #{leader}, #{people}, 0, #{isopen}, #{password})
	</insert>
</mapper>